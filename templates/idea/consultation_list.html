{% extends './base.html' %}
{% load static %}
{% block title %}Liste des Consultations - TConsultGuinee{% endblock %}
{% block content %}
    <section class="banner-section position-relative d-flex align-items-center min-vh-100">
        <video class="position-absolute top-0 start-0 w-100 h-100 object-fit-cover" autoplay muted loop playsinline>
            <source src="{% static './assets/images/backgrounds/banner-video.mp4' %}" type="video/mp4" />
        </video>
        <div class="container">
            <div class="d-flex flex-column gap-4 pb-8 position-relative z-1">
                <h2 class="text-2xl font-bold text-white mb-4">Liste des Consultations</h2>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse bg-white rounded-lg">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="p-3 border">Date</th>
                                <th class="p-3 border">Patient</th>
                                <th class="p-3 border">Médecin</th>
                                <th class="p-3 border">Statut</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for consultation in consultations %}
                                <tr class="hover:bg-gray-100">
                                    <td class="p-3 border">{{ consultation.date|date:'d/m/Y H:i' }}</td>
                                    <td class="p-3 border">{{ consultation.patient.user.username }}</td>
                                    <td class="p-3 border">{{ consultation.doctor.user.username }}</td>
                                    <td class="p-3 border">{{ consultation.status }}</td>
                                </tr>
                            {% empty %}
                                <tr><td colspan="4" class="p-3 border">Aucune consultation pour le moment.</td></tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
{% comment %} <!-- templates/consultation_list.html -->
{% extends './base.html' %}
{% block title %}Liste des Consultations{% endblock %}
{% block content %}
    <h2>Liste des Consultations</h2>
    <table>
        <tr><th>Date</th><th>Patient</th><th>Médecin</th><th>Statut</th></tr>
        {% for consultation in consultations %}
            <tr><td>{{ consultation.date }}</td><td>{{ consultation.patient }}</td><td>{{ consultation.doctor }}</td><td>{{ consultation.status }}</td></tr>
        {% endfor %}
    </table>
{% endblock %} {% endcomment %}